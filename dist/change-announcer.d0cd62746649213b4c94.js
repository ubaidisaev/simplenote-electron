(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1201:function(e,t,n){"use strict";n.r(t),n.d(t,"announceNoteUpdates",(function(){return s}));var o=n(500);function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var s=function(e){var t=e.dispatch,n=e.getState,r=function(e,n,i){return new Notification(n,{body:i,tag:e}).onclick=function(){return t(o.a.ui.openNote(e))}};return function(e,t,o,s,l){var c,a,u;if(n().settings.sendNotifications&&!l&&s)if(0!==Object.getOwnPropertyNames(o).length)if("r"!==(null===(c=s.deleted)||void 0===c?void 0:c.o))if((null==o?void 0:o.publishURL)||!(null===(a=t.publishURL)||void 0===a?void 0:a.length))if(!(null==o||null===(u=o.systemTags)||void 0===u?void 0:u.includes("published"))||t.systemTags.includes("published"))if(!s.tags||s.content)1===Object.getOwnPropertyNames(s).length&&(s.systemTags&&(null==o?void 0:o.systemTags.includes("published"))!==t.systemTags.includes("published")||s.publishURL)||1===Object.getOwnPropertyNames(s).length&&s.systemTags||r(e,"Note Updated",t.content.slice(0,200)||"(no content)");else{var d=new Set((null==o?void 0:o.tags)||[]),f=new Set(t.tags),p=i(d.values()).filter((function(e){return!f.has(e)})),g=i(f.values()).filter((function(e){return!d.has(e)}));r(e,"Tags modified: ".concat(t.content.slice(0,20)||"(untitled)"),[g.length>0&&"Added: ".concat(g.join(", ").slice(0,20)),p.length>0&&"Removed: ".concat(p.join(", ").slice(0,20))].filter(Boolean).join("\n"))}else r(e,"Note Unpublished",t.content.slice(0,200)||"(no content)");else r(e,"Note Published",t.content.slice(0,200)||"(no content)");else r(e,s.deleted.v?"Note Trashed":"Note Restored",t.content.slice(0,200)||"(no content)");else r(e,"New Note",t.content.slice(0,200)||"(no content)")}}}}]);